<!doctype html>
<html lang="en">
      xmlns:th="http://www.thymeleaf.org">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>커넥트 - 조달 계획 등록</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <style>
        .part{
            float: left;
        }
        .part::-webkit-scrollbar{
            display: none;
        }
        .table th, .table td {
            width: 100px; /* 고정 너비 설정 (px 단위) */
            white-space: nowrap; /* 텍스트 줄바꿈 방지 */
            text-align: center; /* 텍스트 중앙 정렬 */
        }
        .table th.item-index, .table td.item-index { width: 80px; }
        .table th.item-name, .table td.item-name { width: 150px; }
        .table th.item-length, .table td.item-length { width: 80px; }
        .table th.item-width, .table td.item-width { width: 80px; }
        .table th.item-height, .table td.item-height { width: 80px; }
        .table th.unit-code, .table td.unit-code { width: 100px; }
        .table th.assy-code, .table td.assy-code { width: 100px; }
        .table th.part-code, .table td.part-code { width: 100px; }
        .table th.item-material, .table td.item-material { width: 120px; }

    </style>
    <header th:replace="~{/fragments/common::navbar}">
    </header>
<body>
<div style="height: 1200px">
  <div style=" overflow-y: scroll; width: 99%; margin: 0 30px 150px 15px;"  class="part">

    <br>

    <h4 style="margin: 30px 0 10px 40px; ">등록된 품목조회</h4>
    <hr style="width: 185px; margin-left: 35px;">
    <div style="width: 99%; margin: 0 0 0 5px; box-shadow: 0 0 0px 0px rgba(114, 114, 114, 0.4);">
        <div class="d-flex justify-content-between">
        <!-- 업체 검색 -->
            <div>
                <form class="d-flex" th:action="@{/part1/searchItem}" role="search" style="margin-top: 10px; width: 400px; margin-left: 10px; padding: 15px 0 5px 10px;">
                    <input class="form-control form-control-sm me-2" type="text" placeholder="품목명으로 검색" aria-label="Search" th:name="itemName" style="width: 300px" required>
                    <button  class="btn btn-sm btn-success" type="submit" style="width: 70px;" th:name="searchItem" >검색</button>

                    <!-- <div style="margin-top: 15px; margin-left: 10px;">
                      <a href="#"><button class="btn btn-outline-success" style="width: 100px;">전체보기</button></a>
                    </div> -->
                </form>
            </div>
            <div>
                <a th:href="@{/part1/procurementPlan}"><button  class="btn btn-sm btn-primary" style="width: 100px; margin-left: 10px; margin-top: 25px; margin-right: 1600px; " >전체보기</button></a>
            </div>
        </div>

        <script>
            function caldate(){
                var start_date = document.getElementById("start_date").value;
                var end_date =document.getElementById("end_date").value;

                if(start_date <= end_date){
                }
                else if(start_date > end_date){
                    alert("종료날짜를 시작날짜보다 크게 입력하세요");
                }
                else{
                    alert("날짜를 입력하세요");
                }
            }
        </script>

        <!-- 업체 검색 태그 종료 -->

        <table class="table" style="margin-top: 20px; ">
            <thead class="table-secondary">
            <tr>
                <th scope="col">생산시작일</th>
                <th scope="col">생산종료일</th>
                <th scope="col">생산제품코드</th>
                <th scope="col">생산제품명</th>

                <th scope="col">품목코드</th>
                <th scope="col">품목명</th>
                <th scope="col">등록하기</th>
            </tr>
            </thead>
            <tbody>
            <th:block th:if="${ContractItemLists.totalElements != 0}">
            <tr th:each="ContractItemLists:${ContractItemLists}">
                <!-- for문돌리기 -->
<!--                ContractItemLists-->
                <th scope="col" th:text="${ContractItemLists.item.product.productStartdate}"></th>
                <th scope="col" th:text="${ContractItemLists.item.product.productEnddate}"></th>
                <th scope="col" th:text="${ContractItemLists.item.product.productId}"></th>
                <th scope="col" th:text="${ContractItemLists.item.product.productName}"></th>

                <th scope="col" th:text="${ContractItemLists.item.itemCode}"></th>
                <th scope="col" th:text="${ContractItemLists.item.itemName}"></th>

<!--                <th scope="col" th:value="${ContractItemLists.conitemNo}" th:name="conitemNo">-->
<!--                    <a th:href="@{selectProcurementItem(conitemNo =${ContractItemLists.conitemNo})}">선택</a></th>-->

                <th scope="col"><button type="submit" class="btn btn-sm btn-success" th:onclick="|location.href='@{selectProcurementItem(conitemNo =${ContractItemLists.conitemNo})}'|">선택</button></th>
            </tr>


            </th:block>
            <th:block th:if="${ContractItemLists.totalElements == 0}">
                <tr>
                    <td colspan="7">결과가 없습니다</td>
                </tr>
            </th:block>
            </tbody>
        </table>
        <div class="buttons_wrap" style="margin: 30px auto; text-align: center">
            <tr class="pagination"
                th:with="start=${(ContractItemLists.number div 10)*10 + 1},
                last=${(start + 9 < ContractItemLists.totalPages ? start + 9 : ContractItemLists.totalPages)}">
                <!--한 화면에 몇 페이지까지 보여줄지 계산한 코드-->
                <td>
                    <a th:onclick="|javascript:ContractItemLists(1)|" aria-label="First">
                        <!--onclick은 비동기식이라서 ajax 거쳐서 감, companyListAjax는 js안에 펑션 이름이랑 매칭-->
                        <span aria-hidden="true">첫 페이지</span> <!--첫 페이지 클릭 시 1페이지가 나오게 하는거-->
                    </a>
                </td>

                <td th:class="${ContractItemLists.first} ? 'disabled'">
                    <a th:onclick="${ContractItemLists.first} ? '' : 'javascript:ContractItemLists('+${ContractItemLists.number}+')'"
                       aria-label="Previous">
                        <span aria-hidden="true">&lt;</span>
                    </a> <!--삼항 연산자를 통해 첫번째 페이지면 그대로 냅두고 그게 아니라면 해당 페이지보다 -1 페이지로 가게끔 (저 number에 -1값으로 자동으로 되어있음)-->
                    <!--클릭 시 아작스 호출해서 벡엔드로 값을 전달-->
                </td>

                <th:block th:if="${last != 0}"> <!--첫페이지가 아니면-->
                    <td th:each="page: ${#numbers.sequence(start, last)}"
                        th:class="${page == ContractItemLists.number + 1} ? 'active'">
                        <a th:text="${page}" th:onclick="|javascript:ContractItemLists(${page})|"></a>
                        <!--페이지 개수만큼 each문을 돌려서 페이지를 표시 >> 5페이지면 5번돌려서 5페이지 나오게 함-->
                    </td>
                </th:block>
                <th:block th:if="${last == 0}"> <!--첫페이지면-->
                    <td class="active">
                        <a th:text="1" th:onclick="|javascript:ContractItemLists(1)|"></a> <!--무조건 숫자 1만 나오게-->
                    </td>
                </th:block>

                <td th:class="${ContractItemLists.last} ? 'disabled'">
                    <a th:onclick="${ContractItemLists.last} ? '' : 'javascript:ContractItemLists('+${ContractItemLists.number+2}+')'"
                       aria-label="Next">
                        <span aria-hidden="true">&gt;</span> <!--삼항 연산자를 통해 마지막 페이지면 그대로 냅두고 그게 아니라면 해당 페이지보다 +1 페이지로 가게끔-->
                    </a>
                </td>

                <td>
                    <a th:onclick="|javascript:ContractItemLists(${ContractItemLists.totalPages})|" aria-label="Last">
                        <!--마지막 페이지 클릭 시 마지막 페이지가 나오게 하는거-->
                        <span aria-hidden="true">마지막 페이지</span>
                    </a>
                </td>
            </tr>
        </div>
    </div>
  </div>


  <div style="margin: 10px 70px 100px 10px; width: 100%; height: 500px">
    <br>
    <h4 style="margin: 10px 0 0 40px ;">조달계획 등록</h4>
    <hr style="width: 170px; margin-left: 35px;">
    <table class="table" style="margin: 30px 60px 0 10px; box-shadow: 0 0 1px 1px rgba(114, 114, 114, 0.4); width: 98%;">

        <thead class="table-secondary">
        <tr>
            <th scope="col">생산시작일</th>
            <th scope="col">생산종료일</th>
            <th scope="col">생산제품코드</th>
            <th scope="col">생산제품명</th>

            <th scope="col">품목코드</th>
            <th scope="col">품목명</th>

            <th scope="col">조달 납기일</th>
<!--            <th scope="col">삭제</th>-->
<!--            <th scope="col">등록</th>-->
        </tr>
        </thead>
        <tbody>
        <tr>
            <!-- for문돌리기 -->
            <th scope="col" colspan="7" style="text-align: center">위에서 품목을 선택하세요</th>
<!--            <th scope="col"><button type="submit" class="btn btn-outline-danger">삭제</button></th>-->
<!--            <th scope="col"><button type="submit" class="btn btn-outline-success">등록</button></th>-->
        </tr>
        </tbody>
    </table>
  </div>
</div>



<script ></script>
</body>
</html>